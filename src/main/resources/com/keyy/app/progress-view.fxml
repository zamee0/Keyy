<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<VBox
        fx:id="rootVBox"
        alignment="TOP_CENTER"
        spacing="25"
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="com.keyy.app.ProgressController"
        style="-fx-background-color: #f5f7fa; -fx-padding: 40;"
>

    <!-- ================= HEADER ================= -->
    <HBox alignment="CENTER" spacing="20">
        <Button
                fx:id="backBtn"
                text="â† Dashboard"
                focusTraversable="false"
                style="-fx-font-size: 16px; -fx-padding: 10 20; -fx-background-color: #646669; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand;"
        />
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <Label text="ðŸ“ˆ My Progress" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #323437;"/>
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <Button
                fx:id="darkModeBtn"
                text="ðŸŒ™"
                focusTraversable="false"
                style="-fx-font-size: 18px; -fx-background-color: transparent; -fx-border-color: transparent; -fx-cursor: hand;"
        />
    </HBox>

    <!-- ================= STATS SUMMARY ================= -->
    <HBox spacing="20" alignment="CENTER">
        <VBox alignment="CENTER" spacing="8" 
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-min-width: 180;">
            <Label fx:id="totalTestsLabel" text="0" 
                   style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #3b82f6;"/>
            <Label text="Total Tests" 
                   style="-fx-font-size: 14px; -fx-text-fill: #646669;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="8" 
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-min-width: 180;">
            <Label fx:id="bestWpmLabel" text="0.0 WPM" 
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #e2b714;"/>
            <Label text="Best Performance" 
                   style="-fx-font-size: 14px; -fx-text-fill: #646669;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="8" 
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-min-width: 180;">
            <Label fx:id="avgWpmLabel" text="0.0 WPM" 
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #4ade80;"/>
            <Label text="Average WPM" 
                   style="-fx-font-size: 14px; -fx-text-fill: #646669;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="8" 
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-min-width: 180;">
            <Label fx:id="improvementLabel" text="+0.0%" 
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #4ade80;"/>
            <Label text="Improvement" 
                   style="-fx-font-size: 14px; -fx-text-fill: #646669;"/>
        </VBox>
        
        <VBox alignment="CENTER" spacing="8" 
              style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-min-width: 180;">
            <Label fx:id="consistencyLabel" text="0%" 
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #a855f7;"/>
            <Label text="Consistency" 
                   style="-fx-font-size: 14px; -fx-text-fill: #646669;"/>
        </VBox>
    </HBox>

    <!-- ================= CHARTS ================= -->
    <VBox spacing="20">
        
        <!-- WPM Chart -->
        <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 15;">
            <Label text="âš¡ WPM Over Time" 
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #323437; -fx-padding: 0 0 15 0;"/>
            
            <LineChart fx:id="wpmChart" legendVisible="false" prefHeight="250">
                <xAxis>
                    <CategoryAxis label="Date" side="BOTTOM"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="WPM" side="LEFT" autoRanging="true"/>
                </yAxis>
            </LineChart>
        </VBox>
        
        <!-- Accuracy Chart -->
        <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 15;">
            <Label text="ðŸŽ¯ Accuracy Over Time" 
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #323437; -fx-padding: 0 0 15 0;"/>
            
            <LineChart fx:id="accuracyChart" legendVisible="false" prefHeight="250">
                <xAxis>
                    <CategoryAxis label="Date" side="BOTTOM"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="Accuracy (%)" side="LEFT" lowerBound="0" upperBound="100"/>
                </yAxis>
            </LineChart>
        </VBox>
        
    </VBox>

</VBox>
